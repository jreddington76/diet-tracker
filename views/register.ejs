<!DOCTYPE html>
<html lang="en">

<head>
  <title>Register</title>

  <%- include('partials/metadata'); -%>
</head>

<body class="container">
  <%- include('partials/header'); -%>

  <div class="alert alert-primary" role="alert">
    <h2>REGISTRATION</h2>
  </div>

  <div class="form-header">
    <% if (Object.keys(errors).length !== 0) { %>
    <h2 class="errors-heading">Oops, please correct the following:</h2>
    <ul class="errors-list">
      <% Object.values(errors).forEach(error => { %>
      <li><%= error.msg %></li>
      <% }) %>
    </ul>
    <% } %>
  </div>

  <form action="/register" method="POST" novalidate>

    <div class="form-group">
      <label for="emailAddress">Email address</label>
      <input type="email" class="form-control" id="emailAddress" name="emailAddress" aria-describedby="emailHelp"
        value="<%= data.emailAddress %>"></input>
      <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
      <% if (errors.emailAddress) { %>
      <div class="error"><%= errors.emailAddress.msg %></div>
      <% } %>
    </div>

    <div class="form-group">
      <label for="firstname">First name</label>
      <input type="text" class="form-control" id="firstname" name="firstname" value="<%= data.firstname %>"></input>
      <% if (errors.firstname) { %>
      <div class="error"><%= errors.firstname.msg %></div>
      <% } %>
    </div>

    <div class="form-group">
      <label for="lastname">Last name</label>
      <input type="text" class="form-control" id="lastname" name="lastname" value="<%= data.lastname %>"></input>
      <% if (errors.lastname) { %>
      <div class="error"><%= errors.lastname.msg %></div>
      <% } %>
    </div>

    <div class="form-group form-check">
      <input type="checkbox" class="form-check-input" id="termsAgreed" name="termsAgreed">
      <label class="form-check-label" for="termsAgreed">I agree with the Terms and Conditions</label>
      <% if (errors.termsAgreed) { %>
      <div class="error"><%= errors.termsAgreed.msg %></div>
      <% } %>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control" id="password" name="password">
      <% if (errors.password) { %>
        <div class="error"><%= errors.password.msg %></div>
      <% } %>
    </div>

    <button type="submit" class="btn btn-primary">Register</button>
  </form>

  <%- include('partials/footer'); -%>
</body>

</html>